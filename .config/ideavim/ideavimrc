" Options

set autoindent
set backspace=indent,eol,start
set breakindent
set clipboard=unnamedplus
set completeopt=menu,menuone,noselect
set cursorline
set encoding=UTF-8
set expandtab
set ignorecase
set incsearch
set linebreak
set mouse=a
set nobackup
set nohlsearch
set noswapfile
set nowrap
set nowritebackup
set number
set numberwidth=4
set relativenumber
set scrolloff=10
set scrolloff=10
set shiftwidth=4
set showcmd
set showmatch
set showmode
set shell=zsh
set signcolumn=yes
set smartcase
set smartindent
set so=5
set softtapstop=4
set spelllang=en_us
set splitbelow
set splitright
set tabstop=4
set undofile
set visualbell
set notimeout

" Leader
let mapleader = ' '
let maplocalleader = ' '

" IdeaVim - Jetbrain options
set ideajoin
set ideamarks
set ideastatusicon=gray
set idearefactormode=keep

" Plugins
set ReplaceWithRegister
set argtextobj
set commentary
set highlightedyank
set matchit
set mini-ai
set surround
set textobj-entire
" disable the timeout option

" Plugin settings
let g:argtextobj_pairs='[:],(:),<:>'

" Mappings
" Better cursor movement
nnoremap j gj
nnoremap k gk

" Pane navigation
nnoremap <C-h> <C-w>h
nnoremap <C-l> <C-w>l
nnoremap <C-k> <C-w>k
nnoremap <C-j> <C-w>j

" Exit INSERT mode with Ctrl + c
inoremap <C-c> <ESC>

" Save with Ctrl + s
inoremap <C-s> <ESC>:w<CR><ESC>

" Use Alt + Shift + j/k to move lines up/down
nnoremap <C-A-k> :m .-2<CR>==
nnoremap <C-A-j> :m .+1<CR>==
vnoremap <C-A-k> :m '<-2<CR>gv=gv
vnoremap <C-A-j> :m '>+1<CR>gv=gv

" Better indentation
nnoremp > >>
nnoremp < <<
vnoremap > >gv
vnoremap < <gv

" Join lines
nnoremap J mzJ`z

" Search
nnoremap n nzzzv
nnoremap N Nzzzv

" System clipboard
nnoremap <leader>y [["+y"]]
nnoremap <leader>Y [["+Y"]]

" Better experiences
nnoremap <space> <Nop>
nnoremap Q <Nop>

" IDE actions
nmap K <Action>(QuickDocumentation)
nmap gd <Action>(GotoDeclaration)
nmap gO <Action>(FileStructurePopup)
nmap gs <Action>(ParameterInfo)
nmap gra <Action>(ShowIntentionActions)
vmap gra <Action>(ShowIntentionActions)
nmap gri <Action>(GotoImplementation)
nmap grn <Action>(Rename)
nmap grr <Action>(ShowUsages)
nmap grt <Action>(GotoTypeDeclaration)

nmap <leader>b <Action>(Debug)
nmap <leader>f <Action>(ReformatCode)
nmap <leader>z <Action>(ToggleDistractionFreeMode)
